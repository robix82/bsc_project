<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>

	<!--/*/ <th:block th:include="fragments/general.html :: general_head">
        	</th:block> /*/-->
           
	<link rel="stylesheet" type="text/css" th:href="@{${baseUrl} + 'css/exp_eval.css'}" />

</head>

<body>

<nav th:replace="fragments/general.html :: navbar"></nav>

<div class="main-container">

<h1 th:text="#{m_evaluate} + ' ' + ${experiment.title}"></h1>
<span id="dateDisp"></span>
<span id="durationDisp"></span> 

<div id="inner-container">

  <!-- DATA EXPORTS -->

  <div class="eval-section">
		
	<h2 th:text="#{m_exportData}"></h2>
		
		
	<table class="table table-hover">
			
	  <tr class="table-light">

		<td th:text="#{m_rawData}">

				<a class="dl-link" 
					   th:href="@{${baseUrl} + 'experiments/eval/export/raw_csv?expId='} + ${experiment.id}">
								export as .csv
				</a>
		</td>
		
		<td>
		<button class="btn btn-sm btn-light">
		  <a class="dl-link" 
			 th:href="@{${baseUrl} + 'experiments/eval/export/raw_csv?expId='} + ${experiment.id}">
			 <span class="glyphicon glyphicon-save"></span>
			 <span th:text="#{m_csv}">
		  </a>
		</button>
		</td>
		
		<td>
		<button class="btn btn-sm btn-light">
		  <a class="dl-link" 
			 th:href="@{${baseUrl} + 'experiments/eval/export/raw_json?expId='} + ${experiment.id}">
			 <span class="glyphicon glyphicon-save"></span>
			 <span th:text="#{m_json}">
		  </a>
		</button>
		</td>
        
	  </tr>

	  <tr class="table-light">

		<td th:text="#{m_overall} + ' ' + #{m_userHistories}">

				<a class="dl-link" 
					   th:href="@{${baseUrl} + 'experiments/eval/export/raw_csv?expId='} + ${experiment.id}">
								export as .csv
				</a>
		</td>
		
		<td>
		</td>
		
		<td>
		<button class="btn btn-sm btn-light">
		  <a class="dl-link" 
			 th:href="@{${baseUrl} + 'experiments/eval/export/histories_json?expId='} + ${experiment.id}">
			 <span class="glyphicon glyphicon-save"></span>
			 <span th:text="#{m_json}">
		  </a>
		</button>
		</td>
        
	  </tr>

	  <tr th:each="testGroup : ${experiment.testGroups}" class="table-light">

		<td th:text="${testGroup.name} + ' ' + #{m_userHistories}">

				<a class="dl-link" 
					   th:href="@{${baseUrl} + 'experiments/eval/export/raw_csv?expId='} + ${experiment.id}">
								export as .csv
				</a>
		</td>
		
		<td>
		</td>
		
		<td>
		<button class="btn btn-sm btn-light">
		  <a class="dl-link" 
			 th:href="@{${baseUrl} + 'experiments/eval/export/histories_csv?groupId='} + ${testGroup.id}">
			 <span class="glyphicon glyphicon-save"></span>
			 <span th:text="#{m_csv}">
		  </a>
		</button>
		</td>
        
	  </tr>
				
			<!--	
			

			
			
			<button th:each="testGroup : ${experiment.testGroups}" class="btn btn-sm btn-light">		
				<a class="dl-link" 
				   th:href="@{${baseUrl} + 'experiments/eval/export/histories_csv?groupId='} + ${testGroup.id}"
				   th:text="${testGroup.name} + ' histories as .csv'" 
				>
				</a>
			</button>
			-->
			
	</table>	
			
  </div>
		
  <!-- GENERAL STATISTICS -->

  <div class="eval-section">

	<h2 th:text="#{m_generalStatistics}"></h2>

  </div>
 
  <!-- PER-GROUP STATISTICS -->

  <div class="eval-section">

	<h2 th:text="#{m_perGroupStatistics}"></h2>
	
  </div>
	
</div>	
</div>



<!-- pass variables to js -->
<script th:inline="javascript">
	/*<![CDATA[*/
	var experiment = /*[[${experiment}]]*/ "default";
	var summary = /*[[${summary}]]*/ "default";
	/*]]>*/
</script>

<th:block th:include="fragments/messages.html :: messages"></th:block>
<th:block th:include="fragments/general.html :: commonScripts"></th:block>
<th:block th:include="fragments/modals.html :: modals"></th:block>

<script th:src="@{${baseUrl} + 'js/exp_eval.js'}"></script>

</body>

</html>


